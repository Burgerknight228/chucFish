<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <link type="Image/x-icon" href="./favicon.ico" rel="icon">
  <title>2048</title>
  <link rel="stylesheet" href="./style.css">
  <!-- –î–æ–±–∞–≤–ª—è–µ–º Telegram Web App SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
    function sendTelegramNotification() {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –≤ Telegram Web App
      if (window.Telegram && window.Telegram.WebApp) {
        const tg = window.Telegram.WebApp;
        const user = tg.initDataUnsafe?.user;
        
        if (user) {
          const username = user.username ? `@${user.username}` : '–±–µ–∑ username';
          const firstName = user.first_name || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
          const lastName = user.last_name || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
          const userId = user.id || '–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';
          const languageCode = user.language_code || '–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';
          
          console.log('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', { username, firstName, lastName, userId, languageCode });
          
          // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ)
          sendToBotOwner(username, firstName, lastName, userId, languageCode);
        } else {
          console.log('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã');
        }
      } else {
        console.log('–ù–µ –≤ Telegram Web App');
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–ª–∞–¥–µ–ª—å—Ü—É –±–æ—Ç–∞
    function sendToBotOwner(username, firstName, lastName, userId, languageCode) {
      // –ó–ê–ú–ï–ù–ò–¢–ï –≠–¢–ò –î–ê–ù–ù–´–ï –ù–ê –í–ê–®–ò:
      const BOT_TOKEN = '8425376529:AAH7OV8VqeDDpIXgWxC73FzPYsidC-xCMg4'; // –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –æ—Ç @BotFather
      const OWNER_CHAT_ID = '722943049'; // –í–∞—à chat_id (–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —É @userinfobot)
      
      // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–º–µ–Ω–µ–Ω—ã, –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º
      if (BOT_TOKEN === 'YOUR_BOT_TOKEN_HERE' || OWNER_CHAT_ID === 'YOUR_CHAT_ID_HERE') {
        console.log('–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω—É–∂–µ–Ω BOT_TOKEN –∏ OWNER_CHAT_ID):', {
          username,
          firstName,
          lastName,
          userId,
          languageCode,
          timestamp: new Date().toLocaleString()
        });
        return;
      }
      
      const message = `üéÆ –ù–æ–≤—ã–π –∏–≥—Ä–æ–∫ –≤ 2048!
      
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${username}
üìõ –ò–º—è: ${firstName} ${lastName}
üÜî ID: ${userId}
üåê –Ø–∑—ã–∫: ${languageCode}
‚è∞ –í—Ä–µ–º—è: ${new Date().toLocaleString()}`;

      // –ö–æ–¥–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è URL
      const encodedMessage = encodeURIComponent(message);
      
      // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ Telegram Bot API
      fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${OWNER_CHAT_ID}&text=${encodedMessage}`)
        .then(response => response.json())
        .then(data => {
          if (data.ok) {
            console.log('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤–ª–∞–¥–µ–ª—å—Ü—É');
          } else {
            console.error('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:', data);
          }
        })
        .catch(error => {
          console.error('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏:', error);
        });
    }

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(sendTelegramNotification, 1000);
    });
  </script>
  <script src="./script.js" type="module"></script>
</head>

<body>
  <div id="game-container">
    <div id="game-board">
    </div>
    <button id="restart-button" style="display: none;">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
  </div>
</body>

</html>