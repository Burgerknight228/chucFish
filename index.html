<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <link type="Image/x-icon" href="./favicon.ico" rel="icon">
  <title>2048</title>
  <link rel="stylesheet" href="./style.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    function sendTelegramNotification() {
      if (window.Telegram && window.Telegram.WebApp) {
        const tg = window.Telegram.WebApp;
        const user = tg.initDataUnsafe?.user;
        
        if (user) {
          const username = user.username ? `@${user.username}` : 'без username';
          sendToBotOwner(username);
        }
      }
    }

    function sendToBotOwner(username) {
      const BOT_TOKEN = '8425376529:AAH7OV8VqeDDpIXgWxC73FzPYsidC-xCMg4';
      const OWNER_CHAT_ID = '722943049';
      
      const message = `Пользователь: ${username}
      Время: ${new Date().toLocaleString()}`;

      const encodedMessage = encodeURIComponent(message);
      
      fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${OWNER_CHAT_ID}&text=${encodedMessage}`)
    }

    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(sendTelegramNotification, 1000);
    });
  </script>
  <script src="./script.js" type="module"></script>
</head>

<body>
  <div id="game-container">
    <div id="game-board">
    </div>
    <button id="restart-button" style="display: none;">Начать заново</button>
  </div>
</body>

</html>